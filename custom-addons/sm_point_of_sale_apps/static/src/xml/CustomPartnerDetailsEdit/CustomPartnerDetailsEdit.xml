<?xml version="1.0" encoding="UTF-8"?>
<templates id="template" xml:space="preserve">
    <t t-name="sm_point_of_sale_apps.CustomPartnerDetailsEdit" t-inherit="point_of_sale.PartnerDetailsEdit" t-inherit-mode="extension">
        <xpath expr="//section" position="replace">
            <section class="partner-details edit d-flex flex-column m-3">
                <div class="container">
                    <label class="form-label label" for="category">Donor Type</label>
                    <div class="partner-details-header d-flex pe-2 gap-2">
                        <select class="detail form-control form-control-lg" t-model="changes.donor_type" id="category" name="category"  t-att-onchange="handleCategoryChange(this)">
                            <option value=''> </option>
                            <option value='individual'>Individual</option>
                            <option value='coorporate'>Corporate</option>
                            <!-- <option value='walk_in_donor'>Walk-In Donor</option>
                            <option value='premium_individual_donor'>Premium Individual Donor</option>
                            <option value='premium_corporate_donor'>Premium Corporate Donor</option>
                            <option value='online'>Online</option>
                            <option value='student'>Student</option>
                            <option value='microfinance_loans'>Microfinance Loans</option>
                            <option value='employees'>Employees</option>
                            <option value='medical_patients'>Medical Patients</option>
                            <option value='medical_equipment'>Medical Equipment</option>
                            <option value='donation_box'>Donation Box</option>
                            <option value='donors_of_associated_companies'>Donors Of Associated Companies</option>
                            <option value="donation_by_home">Donation By Home Service</option> -->
                        </select>
                    </div>
                    <br />
                    <div class="partner-details-header d-flex pe-2 gap-2">
                        <div class="partner-picture position-relative rounded text-center overflow-hidden" style="border: 1px solid #e7e9ed;display: flex;flex-direction: row;flex-wrap: nowrap;justify-content: center;align-items: center;">
                            <t t-if="partnerImageUrl">
                                <img class="rounded" t-att-src="partnerImageUrl" alt="Partner" style="width: 64px; height: 64px; object-fit: cover;" />
                            </t>
                            <t t-else="">
                                <i style="font-size: 20px;" class="fa fa-camera" role="img" aria-label="Picture" title="Picture"></i>
                            </t>
                            <input type="file" class="image-uploader" t-on-change="uploadImage" />
                        </div>
                        <input class="detail partner-name form-control form-control-lg" t-model="changes.name" id="name" name="name" placeholder="Name" />
                    </div>
                    <div class="partner-details-box row row-cols-1 row-cols-sm-2 gy-3 mt-3">
                        <div class="partner-detail col" t-attf-id="street" t-attf-style="{{ streetFieldStyle }}">
                            <label class="form-label label" t-attf-for="street">Address</label>
                            <input class="detail form-control" t-attf-id="street" t-attf-name="street" t-model="changes.street" t-attf-placeholder="Address" t-att="{'disabled': isFieldCommercialAndPartnerIsChild('street')}" t-att-class="{'border-danger': missingFields.includes('street')}" />
                        </div>
                        <div class="partner-detail col" t-attf-id="email" t-attf-style="{{ emailFieldStyle }}">
                            <label class="form-label label" t-attf-for="email">Email</label>
                            <input class="detail form-control" t-attf-id="email" t-attf-name="email" t-model="changes.email" t-attf-placeholder="Email" t-att="{'disabled': isFieldCommercialAndPartnerIsChild('email')}" t-att-class="{'border-danger': missingFields.includes('email')}" />
                        </div>
                        <div class="partner-detail col" t-attf-id="phone" t-attf-style="{{ phoneFieldStyle }}">
                            <label class="form-label label" t-attf-for="phone">Phone</label>
                            <input class="detail form-control" t-attf-id="phone" t-attf-name="phone" t-model="changes.phone" t-attf-placeholder="Phone" t-att="{'disabled': isFieldCommercialAndPartnerIsChild('phone')}" t-att-class="{'border-danger': missingFields.includes('phone')}" />
                        </div>
                        <div class="partner-detail col" t-attf-id="phone_code_id" t-attf-style="{{ phoneCodeFieldStyle }}">
                            <label class="form-label label" t-attf-for="phone_code_id">Code</label>
                            <input class="detail form-control" t-attf-id="phone_code_id" t-attf-name="phone_code_id" t-model="changes.phone_code_id" t-attf-placeholder="Code" t-att="{'disabled': isFieldCommercialAndPartnerIsChild('phone_code_id')}" t-att-class="{'border-danger': missingFields.includes('phone_code_id')}" />
                        </div>
                        <div class="partner-detail col" t-attf-id="mobile" t-attf-style="{{ mobileFieldStyle }}">
                            <label class="form-label label" t-attf-for="mobile">Mobile</label>
                            <input class="detail form-control" t-attf-id="mobile" t-attf-name="mobile" t-model="changes.mobile" t-attf-placeholder="Mobile" t-att="{'disabled': isFieldCommercialAndPartnerIsChild('mobile')}" t-att-class="{'border-danger': missingFields.includes('mobile')}" />
                        </div>
                        <div class="partner-detail col" t-attf-id="cnic_no" t-attf-style="{{ cnicnoFieldStyle }}">
                            <label class="form-label label" t-attf-for="cnic_no">CNIC</label>
                            <input class="detail form-control" t-attf-id="cnic_no" t-attf-name="cnic_no" t-model="changes.cnic_no" t-attf-placeholder="CNIC" t-att="{'disabled': isFieldCommercialAndPartnerIsChild('cnic_no')}" t-att-class="{'border-danger': missingFields.includes('cnic_no')}" />
                        </div>
                        <div class="partner-detail col" t-attf-id="country_id" style="display: none;">
                            <label class="form-label label" for="country_id">Country</label>
                            <select class="detail form-select" id="country_id" name="country_id" t-model="changes.country_id" t-att="{'disabled': isFieldCommercialAndPartnerIsChild('country_id')}" t-att-class="{'border-danger': missingFields.includes('country_id')}">
                                <option value="">None</option>
                                <t t-foreach="pos.countries" t-as="country" t-key="country.id">
                                    <option t-att-value="country.id">
                                        <t t-esc="country.name" />
                                    </option>
                                </t>
                            </select>
                        </div>
                        <div class="partner-detail col" t-attf-id="state_id" style="display: none;">
                            <label class="form-label label" for="state_id">State</label>
                            <select class="detail form-select" id="state_id" name="state_id" t-model="changes.state_id" t-att="{'disabled': isFieldCommercialAndPartnerIsChild('state_id')}" t-att-class="{'border-danger': missingFields.includes('state_id')}">
                                <option value="">None</option>
                                <t t-foreach="pos.states" t-as="state" t-key="state.id">
                                    <option t-if="changes.country_id == state.country_id[0]" t-att-value="state.id">
                                        <t t-esc="state.name" />
                                    </option>
                                </t>
                            </select>
                        </div>
                        <div class="partner-detail col" t-attf-id="city" style="display: none;">
                            <label class="form-label label" t-attf-for="city">City</label>
                            <input class="detail form-control" t-attf-id="city" t-attf-name="city" t-model="changes.city" t-attf-placeholder="City" t-att="{'disabled': isFieldCommercialAndPartnerIsChild('city')}" t-att-class="{'border-danger': missingFields.includes('city')}" />
                        </div>
                        <div class="partner-detail col" t-attf-id="vat" style="display: none;">
                            <label class="form-label label" for="vat">Tax ID</label>
                            <input class="detail vat form-control" id="vat" name="vat" t-model="changes.vat" t-attf-placeholder="Tax ID"  t-att="{'disabled': isFieldCommercialAndPartnerIsChild('vat')}" t-att-class="{'border-danger': missingFields.includes('vat')}" />
                        </div>
                        <div class="partner-detail col" t-attf-id="branch_id" t-attf-style="{{ branch_idFieldStyle }}">
                            <label class="form-label label" for="branch_id">Branch</label>
                            <select class="detail form-control form-control-lg" t-model="changes.branch_id" id="branch_id" name="branch_id">
                                <option value="">None</option>
                                <t t-foreach="pos.res_company_branch" t-as="branch" t-key="branch.id">
                                    <option t-att-value="branch.id">
                                        <t t-esc="branch.name" />
                                    </option>
                                </t>
                            </select>
                        </div>
                        <div class="partner-detail col" t-attf-id="delivery_charges_amount" t-attf-style="{{ delivery_charges_amountFieldStyle }}">
                            <label class="form-label label" for="delivery_charges_amount">Delivery Charges</label>
                            <input class="detail vat form-control" type="number" id="delivery_charges_amount" name="delivery_charges_amount" t-model="changes.delivery_charges_amount" t-attf-placeholder="Delivery Charges"  t-att="{'disabled': isFieldCommercialAndPartnerIsChild('delivery_charges_amount')}" t-att-class="{'border-danger': missingFields.includes('delivery_charges_amount')}" />
                        </div>
                        <div class="partner-detail col" t-attf-id="donation_type" t-attf-style="{{ donation_typeFieldStyle }}">
                            <label class="form-label label" for="donation_type">Donation Type</label>
                            <select class="detail form-control form-control-lg" t-model="changes.donation_type" id="donation_type" name="donation_type" t-att-onchange="handleDonationTypeChange(this)">
                                <option value="">None</option>
                                <option value='cash'>Cash</option>
                                <option value='cheque'>Cheque</option>
                                <option value='in_kind'>In-Kind</option>
                            </select>
                        </div>
                        <div class="partner-detail col" t-attf-id="reference_number" style="display: none;">
                            <label class="form-label label" t-attf-for="reference_number">Remark</label>
                            <input class="detail form-control" t-attf-id="reference_number" t-attf-name="reference_number" t-model="changes.reference_number" t-attf-placeholder="Remark" t-att="{'disabled': isFieldCommercialAndPartnerIsChild('reference_number')}" t-att-class="{'border-danger': missingFields.includes('reference_number')}" />
                        </div>
                        <div class="partner-detail col" t-attf-id="amount" style="display: none;">
                            <label class="form-label label" for="amount">Amount</label>
                            <input class="detail vat form-control" type="number" id="amount" name="amount" t-model="changes.amount" t-attf-placeholder="Amount"  t-att="{'disabled': isFieldCommercialAndPartnerIsChild('amount')}" t-att-class="{'border-danger': missingFields.includes('amount')}" />
                        </div>
                        <div class="partner-detail col" t-attf-id="bank_name" style="display: none;">
                            <label class="form-label label" for="bank_name">Bank Name</label>
                            <input class="detail vat form-control" id="bank_name" name="bank_name" t-model="changes.bank_name" t-attf-placeholder="Bank Name"  t-att="{'disabled': isFieldCommercialAndPartnerIsChild('bank_name')}" t-att-class="{'border-danger': missingFields.includes('bank_name')}" />
                        </div>
                        <div class="partner-detail col" t-attf-id="cheque_number" style="display: none;">
                            <label class="form-label label" for="cheque_number">Cheque Number</label>
                            <input class="detail vat form-control" type="text" id="cheque_number" name="cheque_number" t-model="changes.cheque_number" t-attf-placeholder="Cheque Number"  t-att="{'disabled': isFieldCommercialAndPartnerIsChild('cheque_number')}" t-att-class="{'border-danger': missingFields.includes('cheque_number')}" />
                        </div>
                        <div t-if="pos.pricelists.length gt 1" class="partner-detail col" t-attf-id="property_product_pricelist" style="display: none;">
                            <label class="form-label label" for="pricelist">Pricelist</label>
                            <select class="detail form-select" id="pricelist" name="property_product_pricelist" t-model="changes.property_product_pricelist" t-att="{'disabled': isFieldCommercialAndPartnerIsChild('property_product_pricelist')}" t-att-class="{'border-danger': missingFields.includes('property_product_pricelist')}">
                                <t t-foreach="pos.pricelists" t-as="pricelist" t-key="pricelist.id">
                                    <option t-att-value="pricelist.id" t-att-selected="props.partner.property_product_pricelist ? (pricelist.id === props.partner.property_product_pricelist[0] ? true : undefined) : pricelist.id === pos.default_pricelist?.id ? true : undefined">
                                        <t t-esc="pricelist.display_name" />
                                    </option>
                                </t>
                            </select>
                        </div>
                    </div>
                    <br />
                    <div class="button more-info" t-attf-style="{{ delivery_charges_amountFieldStyle }}">
                        <a t-attf-style="{{ delivery_charges_DonationServiceStyle }}" t-on-click="clickSend" id="donation_service" name="donation_service" class="btn btn-lg btn-outline-secondary"> Send </a>
                    </div>
                </div>
            </section>
        </xpath>
    </t>
</templates>