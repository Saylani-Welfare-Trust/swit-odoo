<odoo>
    <!-- Menu -->
    <menuitem id="menu_ration_root" name="Ration Packing"/>
    <menuitem id="menu_welfare_dept_root" name="Welfare Department"/>
    <menuitem id="menu_distribution_dept_root" name="Distribution Centre"/>
    <menuitem id="menu_warehouse_root" name="Warehouse"/>

    <!-- Pack Categories -->
    <record model="ir.ui.view" id="view_pack_category_tree">
        <field name="name">ration.pack.category.tree</field>
        <field name="model">ration.pack.category</field>
        <field name="arch" type="xml">
            <tree>
                <field name="name"/>
            </tree>
        </field>
    </record>
    <record model="ir.ui.view" id="view_pack_category_form">
        <field name="name">ration.pack.category.form</field>
        <field name="model">ration.pack.category</field>
        <field name="arch" type="xml">
            <form>
                <header>
                    <field name="state" widget="statusbar" statusbar_visible="draft,approved"/>
                </header>
                <sheet>
                    <group>
                        <field name="name"/>
                        <field name="product_id" invisible="1"/>
                    </group>
                    <notebook>
                        <page string="Lines">
                            <field name="pack_line_ids">
                                <tree editable="bottom">
                                    <field name="product_id"/>
                                    <field name="quantity"/>
                                </tree>
                            </field>
                        </page>
                    </notebook>
                    <button name="create_bom_for_category" type="object" string="Generate BOM"
                            invisible="state != 'draft'"/>
                </sheet>
            </form>
        </field>
    </record>

    <!-- Monthly Requirement -->
    <record id="view_monthly_req_tree" model="ir.ui.view">
        <field name="name">ration.monthly.req.tree</field>
        <field name="model">ration.monthly.req</field>
        <field name="arch" type="xml">
            <tree>
                <field name="month"/>
                <field name="year"/>
                <field name="center_id"/>
            </tree>
        </field>
    </record>


    <record id="view_monthly_req_form" model="ir.ui.view">
        <field name="name">ration.monthly.req.form</field>
        <field name="model">ration.monthly.req</field>
        <field name="arch" type="xml">
            <form>
                <header>
                    <button name="action_create_purchase_request" type="object" string="Create Purchase Request" class="btn-primary"/>

                </header>
                <sheet>
                    <group>
                        <field name="month"/>
                        <field name="year"/>
                        <field name="center_id"/>
                    </group>
                    <field name="line_ids">
                        <tree editable="bottom">
                            <field name="date"/>
                            <field name="donee"/>
                            <field name="name"/>
                            <field name="category_id"/>
                            <field name="disbursement_type_ids" widget="many2many_tags"/>
                            <field name="product" widget="many2many_tags"/>
                            <!--                            <field name="quantity"/>-->
                        </tree>
                    </field>
                </sheet>
            </form>
        </field>
    </record>


    <!-- Daily Requirement -->
    <record id="view_daily_req_tree" model="ir.ui.view">
        <field name="name">ration.daily.req.tree</field>
        <field name="model">ration.daily.req</field>
        <field name="arch" type="xml">
            <tree>
                <field name="date"/>
                <field name="center_id"/>
            </tree>
        </field>
    </record>
    <record id="view_daily_req_form" model="ir.ui.view">
        <field name="name">ration.daily.req.form</field>
        <field name="model">ration.daily.req</field>
        <field name="arch" type="xml">
            <form>

                <header>
                    <field name="state" widget="statusbar" statusbar_visible="draft,sent_to_ration"/>

                    <button name="action_send_issuance"
                            type="object"
                            string="Send Issuance Request" invisible="state != 'draft'"
                            class="oe_highlight"/>

                    <button
                            name="%(action_report_gate_pass)d"
                            type="action"
                            string="Print Gate Pass"
                            />
                </header>
                <sheet>
                    <field name="date"/>
                    <field name="center_id"/>
                    <field name="line_ids">
                        <tree editable="bottom">
                            <!--                            <field name="category_id"/>-->
                            <field name="donee"/>
                            <field name="name"/>
                            <field name="category_id"/>
                            <field name="disbursement_type_ids" widget="many2many_tags"/>
                            <field name="product" widget="many2many_tags"/>
                        </tree>
                    </field>
                </sheet>
            </form>
        </field>
    </record>

    <!-- Actions & Menu Links -->
    <record model="ir.actions.act_window" id="action_pack_category">
        <field name="name">Pack Categories</field>
        <field name="res_model">ration.pack.category</field>
        <field name="view_mode">tree,form</field>
    </record>


    <record model="ir.actions.act_window" id="action_monthly_req">
        <field name="name">Monthly Requirements</field>
        <field name="res_model">ration.monthly.req</field>
        <field name="view_mode">tree,form</field>
    </record>


    <record model="ir.actions.act_window" id="action_daily_req">
        <field name="name">Daily Requirements</field>
        <field name="res_model">ration.daily.req</field>
        <field name="view_mode">tree,form</field>
    </record>


    <record id="view_ration_daily_wizard_form" model="ir.ui.view">
        <field name="name">ration.daily.wizard.form</field>
        <field name="model">ration.daily.wizard</field>
        <field name="arch" type="xml">
            <form string="Daily Requirement Wizard">
                <sheet>
                    <group>
                        <field name="date"/>
                        <field name="center_id"/>
                    </group>
                    <footer>
                        <button string="Confirm" type="object" name="action_confirm" class="oe_highlight"/>
                        <button string="Cancel" special="cancel"/>
                    </footer>
                </sheet>
            </form>
        </field>
    </record>

    <!-- Wizard Action -->
    <record id="action_ration_daily_wizard" model="ir.actions.act_window">
        <field name="name">Plan Daily Requirements</field>
        <field name="res_model">ration.daily.wizard</field>
        <field name="view_mode">form</field>
        <field name="view_id" ref="view_ration_daily_wizard_form"/>
        <field name="target">new</field>
    </record>

    <!-- Optional: Menu item under Ration Packing root -->
    <!--    <menuitem id="menu_ration_daily_wizard"-->
    <!--              parent="menu_ration_root"-->
    <!--              action="action_ration_daily_wizard"-->
    <!--              sequence="10"-->
    <!--              name="Daily Planning Wizard"/>-->


    <menuitem id="menu_pack_category"
              name="Pack Categories" parent="menu_ration_root"
              action="action_pack_category"/>


    <menuitem id="menu_monthly_req"
              name="Monthly Planning" parent="menu_ration_root"
              action="action_monthly_req"/>

    <menuitem id="menu_daily_req"
              name="Daily Planning" parent="menu_ration_root"
              action="action_daily_req"/>


    <menuitem id="menu_issuance_root" parent="menu_ration_root"
              action="action_issuance_req" name="Issuance Requests"/>


    <!--    ##########################33    ##########################33  welfare  ##########################33    ##########################33-->

    <menuitem id="menu_welfare_monthly_req"
              name="Monthly Planning" parent="menu_welfare_dept_root"
              action="action_welfare_monthly_req"/>



    <menuitem id="menu_welfare_daily_req"
              name="Daily Requirements"
              parent="menu_welfare_dept_root"
              action="action_welfare_daily_req"/>


    <!--    ##########################33    ##########################33  distribution  ##########################33    ##########################33-->

    <menuitem id="menu_distribution_monthly_req"
              name="Monthly Planning" parent="menu_distribution_dept_root"
              action="action_distribution_monthly_req"/>
    <menuitem id="menu_distribution_daily_req"
              name="Daily Planning" parent="menu_distribution_dept_root"
              action="action_distribution_daily_req"/>


    <!--    ##########################33    ##########################33  warehouse  ##########################33    ##########################33-->

    <menuitem id="menu_warehouse_req"
              name="Warehouse Request" parent="menu_warehouse_root"
              action="action_warehouse_issuance_req"/>

    <menuitem id="menu_warehouse_kitchen_req"
              name="Warehouse Kitchen Request" parent="menu_warehouse_root"
              action="action_warehouse_kitchen_request"/>


</odoo>
