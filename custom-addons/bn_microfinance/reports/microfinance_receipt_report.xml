<?xml version="1.0" encoding="UTF-8"?>
<odoo>
    <data>
        <!-- rgba(200, 200, 200, 0.25) -->
        <template id="pos_donation_receipt_template">
           <t t-call="web.html_container">
                <t t-foreach="docs" t-as="o">
                    <div class="page" style="position: relative;">
                        <style>
                        .page-content {
                            position: relative;
                            z-index: 1;
                            <!--margin-top: 360px;-->
                        }
                        .compact-section {
                            margin-bottom: 12px;
                        }
                        .compact-row {
                            margin-bottom: 6px;
                        }
                        .tight-padding {
                            padding: 6px !important;
                        }
                        .no-margin {
                            margin: 0;
                        }
                        .signature-line {
                            width: 180px;
                            border-top: 2px solid #333;
                            margin-top: 5px;
                        }
                        .info-box {
                            border: 1px solid #000;
                            padding: 10px;
                            margin-bottom: 12px;
                            font-size: 11px;
                        }
                        .flex-container {
                            display: flex;
                            width: 100%;
                        }
                        .flex-column {
                            width: 50%;
                        }
                        .flex-left {
                            padding-right: 10px;
                        }
                        .flex-right {
                            padding-left: 10px;
                        }
                        .flex-row {
                            display: flex;
                            margin-bottom: 6px;
                        }
                        .flex-label {
                            width: 45%;
                            font-size: 11px;
                            font-weight: normal;
                        }
                        .flex-value {
                            width: 55%;
                            font-size: 11px;
                            font-weight: 500;
                        }
                        .table-bordered-custom {
                            border: 1px solid #000 !important;
                            font-size: 11px;
                        }
                        .table-bordered-custom td, 
                        .table-bordered-custom th {
                            border: 1px solid #000 !important;
                            padding: 6px !important;
                        }
                        .w-full {
                            width: 25% !important;
                        }
                        .text-transform {
                            text-transform: uppercase;
                            font-size: 14px;
                            margin-bottom: 8px;
                        }
                        .smaller-text {
                            font-size: 10px;
                        }
                        .smallest-text {
                            font-size: 9px;
                        }
                        .tight-margin {
                            margin-left: 8px;
                            margin-right: 8px;
                        }
                        </style>

                        <div class="page-content">
                            <!-- Header -->
                            <div class="compact-section tight-margin">
                                <div style="display: flex; justify-content: space-between; align-items: center;">
                                    <h6 class="fw-bold text-uppercase mb-1 no-margin" style="font-size: 14px;">
                                        <t t-if="o.payment_type == 'security'">
                                            Security Deposit Receipt
                                        </t>
                                        <t t-else="">
                                            Installment Receipt
                                        </t>
                                    </h6>
                                    <h6 class="fw-bold text-uppercase mb-1 no-margin" style="font-size: 14px;">
                                        <t t-esc="o.name"/>
                                    </h6>
                                </div>
                            </div>

                            <!-- First Information Section -->
                            <div class="info-box compact-section">
                                <div class="flex-container">
                                    <!-- Left Column -->
                                    <div class="flex-column flex-left">
                                        <div class="flex-row">
                                            <div class="flex-label">Date:</div>
                                            <div class="flex-value">
                                                <t t-esc="o.date" t-options="{'widget': 'date', 'format': 'dd-MM-yyyy'}"/>
                                            </div>
                                        </div>
                                        <div class="flex-row">
                                            <div class="flex-label">Receipt #:</div>
                                            <div class="flex-value">
                                                <t t-esc="o.name"/>
                                            </div>
                                        </div>
                                        <div class="flex-row">
                                            <div class="flex-label">Microfinance Request #:</div>
                                            <div class="flex-value">
                                                <span t-field="o.microfinance_id.name"/>
                                            </div>
                                        </div>
                                        <div class="flex-row">
                                            <div class="flex-label">Donee Name:</div>
                                            <div class="flex-value">
                                                <t t-esc="o.donee_id.name"/>
                                            </div>
                                        </div>
                                        <div class="flex-row">
                                            <div class="flex-label">CNIC #:</div>
                                            <div class="flex-value">
                                                <t t-esc="o.donee_id.cnic_no"/>
                                            </div>
                                        </div>
                                    </div>

                                    <!-- Right Column -->
                                    <div class="flex-column flex-right">
                                        <div class="flex-row">
                                            <div class="flex-label">Payment Method:</div>
                                            <div class="flex-value">
                                                <span t-field="o.payment_method"/>
                                            </div>
                                        </div>
                                        <div class="flex-row">
                                            <div class="flex-label">Paid on:</div>
                                            <div class="flex-value">
                                                <t t-esc="o.date" t-options="{'widget': 'date', 'format': 'dd-MM-yyyy'}"/>
                                            </div>
                                        </div>
                                        <div class="flex-row">
                                            <div class="flex-label">Total Amount:</div>
                                            <div class="flex-value">
                                                <span t-field="o.amount" t-options="{'widget': 'monetary', 'display_currency': o.currency_id}"/>
                                            </div>
                                        </div>
                                        <div t-if="o.payment_method == 'cheque'">
                                            <div class="flex-row">
                                                <div class="flex-label">Bank Name:</div>
                                                <div class="flex-value">
                                                    <t t-esc="o.bank_name"/>
                                                </div>
                                            </div>
                                            <div class="flex-row">
                                                <div class="flex-label">Cheque #:</div>
                                                <div class="flex-value">
                                                    <t t-esc="o.cheque_no"/>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>

                            <!-- Payment Details Table -->
                            <div class="compact-section tight-margin">
                                <table class="table table-bordered-custom">
                                    <thead>
                                        <tr>
                                            <t t-if="o.payment_method == 'cash'">
                                                <th style="text-align: center;" class="w-full">Payment Method</th>
                                                <th style="text-align: center;" class="w-full">Amount</th>
                                            </t>
                                            <t t-else="">
                                                <th style="text-align: center;" class="w-full">Payment Method</th>
                                                <th style="text-align: center;" class="w-full">Bank Name</th>
                                                <th style="text-align: center;" class="w-full">Cheque No.</th>
                                                <th style="text-align: center;" class="w-full">Cheque Date</th>
                                                <th style="text-align: center;" class="w-full">Amount</th>
                                            </t>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        <tr>
                                            <t t-if="o.payment_method == 'cash'">
                                                <td class="w-full text-center">
                                                    <span t-field="o.payment_method"/>
                                                </td>
                                                <td class="w-full text-right">
                                                    <t t-if="o.amount">
                                                        <span t-field="o.amount" t-options="{'widget': 'monetary', 'display_currency': o.currency_id}"/>
                                                    </t>
                                                    <t t-else="">
                                                        -
                                                    </t>
                                                </td>
                                            </t>
                                            <t t-else="">
                                                <td class="w-full text-center">
                                                    <span t-field="o.payment_method"/>
                                                </td>
                                                <td class="w-full text-center">
                                                    <t t-if="o.bank_name">
                                                        <t t-esc="o.bank_name"/>
                                                    </t>
                                                    <t t-else="">
                                                        -
                                                    </t>
                                                </td>
                                                <td class="w-full text-center">
                                                    <t t-if="o.cheque_no">
                                                        <t t-esc="o.cheque_no"/>
                                                    </t>
                                                    <t t-else="">
                                                        -
                                                    </t>
                                                </td>
                                                <td class="w-full text-center">
                                                    <t t-if="o.cheque_date">
                                                        <t t-esc="o.cheque_date" t-options="{'widget': 'date', 'format': 'dd-MM-yyyy'}"/>
                                                    </t>
                                                    <t t-else="">
                                                        -
                                                    </t>
                                                </td>
                                                <td class="w-full text-right">
                                                    <t t-if="o.amount">
                                                        <span t-field="o.amount" t-options="{'widget': 'monetary', 'display_currency': o.currency_id}"/>
                                                    </t>
                                                    <t t-else="">
                                                        -
                                                    </t>
                                                </td>
                                            </t>
                                        </tr>
                                    </tbody>
                                </table>
                                
                                <!-- Total Amount Section -->
                                <table class="table" style="margin-top: 8px; font-size: 11px;">
                                    <tbody>
                                        <tr>
                                            <td style="width: 50%; padding: 6px;">
                                                <strong>Amount In Words:</strong> <t t-esc="'%.2f' % o.amount"/> Only
                                            </td>
                                            <td style="width: 50%; padding: 6px; text-align: right;">
                                                <strong>Total Amount:</strong> <span t-field="o.amount" t-options="{'widget': 'monetary', 'display_currency': o.currency_id}"/>
                                            </td>
                                        </tr>
                                    </tbody>
                                </table>
                            </div>

                            <!-- Second Information Section (Duplicate) -->
                            <div class="info-box compact-section">
                                <div class="flex-container">
                                    <!-- Left Column -->
                                    <div class="flex-column flex-left">
                                        <div class="flex-row">
                                            <div class="flex-label">Date:</div>
                                            <div class="flex-value">
                                                <t t-esc="o.date" t-options="{'widget': 'date', 'format': 'dd-MM-yyyy'}"/>
                                            </div>
                                        </div>
                                        <div class="flex-row">
                                            <div class="flex-label">Receipt #:</div>
                                            <div class="flex-value">
                                                <t t-esc="o.name"/>
                                            </div>
                                        </div>
                                        <div class="flex-row">
                                            <div class="flex-label">Microfinance Request #:</div>
                                            <div class="flex-value">
                                                <span t-field="o.microfinance_id.name"/>
                                            </div>
                                        </div>
                                        <div class="flex-row">
                                            <div class="flex-label">Donee Name:</div>
                                            <div class="flex-value">
                                                <t t-esc="o.donee_id.name"/>
                                            </div>
                                        </div>
                                        <div class="flex-row">
                                            <div class="flex-label">CNIC #:</div>
                                            <div class="flex-value">
                                                <t t-esc="o.donee_id.cnic_no"/>
                                            </div>
                                        </div>
                                    </div>

                                    <!-- Right Column -->
                                    <div class="flex-column flex-right">
                                        <div class="flex-row">
                                            <div class="flex-label">Payment Method:</div>
                                            <div class="flex-value">
                                                <span t-field="o.payment_method"/>
                                            </div>
                                        </div>
                                        <div class="flex-row">
                                            <div class="flex-label">Paid on:</div>
                                            <div class="flex-value">
                                                <t t-esc="o.date" t-options="{'widget': 'date', 'format': 'dd-MM-yyyy'}"/>
                                            </div>
                                        </div>
                                        <div class="flex-row">
                                            <div class="flex-label">Total Amount:</div>
                                            <div class="flex-value">
                                                <span t-field="o.amount" t-options="{'widget': 'monetary', 'display_currency': o.currency_id}"/>
                                            </div>
                                        </div>
                                        <div t-if="o.payment_method == 'cheque'">
                                            <div class="flex-row">
                                                <div class="flex-label">Bank Name:</div>
                                                <div class="flex-value">
                                                    <t t-esc="o.bank_name"/>
                                                </div>
                                            </div>
                                            <div class="flex-row">
                                                <div class="flex-label">Cheque #:</div>
                                                <div class="flex-value">
                                                    <t t-esc="o.cheque_no"/>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>

                            <!-- Footer -->
                            <!--<div class="mt-2 tight-margin">-->
                            <!--    <div class="border-top border-1 pt-2">-->
                                    <!-- Certificate Note -->
                            <!--        <p class="text-center text-muted fst-italic mb-1 smaller-text">-->
                            <!--            This receipt is digitally generated and serves as an official acknowledgment of the payment received.-->
                            <!--        </p>-->

                                    <!-- Signature Section -->
                            <!--        <div class="mt-2">-->
                            <!--            <div class="d-flex justify-content-start">-->
                            <!--                <div class="signature-line">-->
                            <!--                    <p class="mb-0 text-muted mt-1 smaller-text">-->
                            <!--                        Authorized Signature-->
                            <!--                    </p>-->
                            <!--                </div>-->
                            <!--            </div>-->

                                        <!-- Powered By Section -->
                            <!--            <div class="text-center mt-2">-->
                            <!--                <p class="mb-0 text-muted smallest-text">-->
                            <!--                    Powered by <strong>BytesNode</strong>-->
                            <!--                </p>-->
                            <!--                <p class="mb-0 text-muted smallest-text">-->
                            <!--                    Mobile: 03170295857 | Email: info@bytesnode.com | Website: bytesnode.com-->
                            <!--                </p>-->
                            <!--            </div>-->
                            <!--        </div>-->
                            <!--    </div>-->
                            <!--</div>-->
                        </div>
                    </div>
                </t>
            </t>
        </template>

        <record id="microfinance_receipt_report_action" model="ir.actions.report">
            <field name="name">Microfinance Receipt</field>
            <field name="model">microfinance.installment</field>
            <field name="report_type">qweb-html</field>
            <field name="report_name">bn_microfinance.pos_donation_receipt_template</field>
            <field name="report_file">bn_microfinance.pos_donation_receipt_template</field>
            <field name="binding_model_id" ref="bn_microfinance.model_microfinance_installment"/>
            <field name="binding_type">report</field>
            <field name="paperformat_id" ref="bn_pos_order.paperformat_pos_donation_receipt_a4"/>
        </record>
    </data>
</odoo>
