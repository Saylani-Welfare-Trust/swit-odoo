<odoo>
    <data>

        <template id="mfd_slip_template">
            <t t-call="web.html_container">
                <t t-foreach="docs" t-as="o">
                    <t t-call="web.external_layout">
                        <div class="mt-5 clearfix">
                            <div class="page" style="font-family: serif;">
                                <div class="mb-3">
                                    <h3 class="fw-bold">
                                        <t t-if="o.state == 'paid'">
                                            Completion Certificate
                                        </t>
                                        <t t-else="">
                                            Microfinance Loan
                                        </t>
                                        <span style="color: #1571b9;">
                                            <t t-esc="o.name"/>
                                        </span>
                                    </h3>
                                </div>
                                <div>
                                    <div style="font-size:16px;">
                                        <div class="mb-1">
                                            <t t-import="datetime"/>
                                            <span class="fw-bold" style="width: 150px; display: inline-block; color: #99ca3c;">Date</span>
                                            <span>
                                                <t t-esc="datetime.datetime.now().strftime('%d-%m-%Y')"/>
                                            </span>
                                        </div>
                                        <div class="mb-1">
                                            <span class="fw-bold" style="width: 150px; display: inline-block; color: #99ca3c;">Loan ID</span>
                                            <span>
                                                <t t-esc="o.name"/>
                                            </span>
                                        </div>
                                        <div class="mb-1">
                                            <span class="fw-bold" style="width: 150px; display: inline-block; color: #99ca3c;">Customer</span>
                                            <span>
                                                <t t-esc="o.customer_id.name"/>
                                            </span>
                                        </div>
                                        <div class="mb-1" t-if="o.state in ['approved', 'waiting_delivery', 'done']">
                                            <span class="fw-bold" style="width: 150px; display: inline-block; color: #99ca3c;">Registration No.</span>
                                            <span>
                                                <t t-esc="o.customer_id.barcode"/>
                                            </span>
                                        </div>
                                        <div class="mb-1">
                                            <span class="fw-bold" style="width: 150px; display: inline-block; color: #99ca3c;">CNIC</span>
                                            <span>
                                                <t t-esc="o.cnic"/>
                                            </span>
                                        </div>
                                        <div class="mt-3 mb-2">
                                            <span class="fw-bold" style="font-size:20px;">Loan Details:</span>
                                        </div>
                                        <div class="mb-1">
                                            <span class="fw-bold" style="width: 150px; display: inline-block; color: #99ca3c;">Scheme</span>
                                            <span style="width: 400px; display: inline-block; ">
                                                <t t-esc="o.scheme_id.name"/>
                                            </span>
                                            <span class="fw-bold" style="width: 160px; display: inline-block; color: #99ca3c;">Installment Type</span>
                                            <span>
                                                <t t-if="o.installment_type == 'daily'">
                                                    Daily
                                                </t>
                                                <t t-else="">
                                                    Monthly
                                                </t>
                                            </span>
                                        </div>
                                        <div class="mb-1">
                                            <span class="fw-bold" style="width: 150px; display: inline-block; color: #99ca3c;">Loan Type</span>
                                            <span style="width: 400px; display: inline-block;">
                                                <t t-esc="o.asset_type"/>
                                            </span>
                                            <span class="fw-bold" style="width: 160px; display: inline-block; color: #99ca3c;">Installment Amount</span>
                                            <span>
                                                <t t-esc="o.currency_id.symbol"/>
                                            </span>
                                            <span>
                                                <t t-esc="o.installment_amount"/>
                                            </span>
                                        </div>
                                        <t t-if="o.asset_type != 'cash'">
                                            <div class="mb-1">
                                                <span class="fw-bold" style="width: 150px; display: inline-block; color: #99ca3c;">
                                                    Product
                                                </span>
                                                <span style="width: 400px; display: inline-block;">
                                                    <t t-esc="o.product_id.name"/>
                                                </span>
                                                <span class="fw-bold" style="width: 160px; display: inline-block; color: #99ca3c;">
                                                    No. of Installments
                                                </span>
                                                <span>
                                                    <t t-esc="o.installment_period"/>
                                                </span>
                                            </div>
                                        </t>
                                        <div class="mb-1">
                                            <span class="fw-bold" style="width: 150px; display: inline-block; color: #99ca3c;">Amount</span>
                                            <span style="width: 400px; display: inline-block;">
                                                <t t-esc="o.currency_id.symbol"/>
                                                <t t-esc="o.amount"/>
                                            </span>
                                            <t t-if="o.asset_type == 'cash'">
                                                <span class="fw-bold" style="width: 160px; display: inline-block; color: #99ca3c;">
                                                    No. of Installments
                                                </span>
                                                <span>
                                                    <t t-esc="o.installment_period"/>
                                                </span>
                                            </t>
                                            <t t-else="">
                                                <span class="fw-bold" style="width: 160px; display: inline-block; color: #99ca3c;">
                                                    Delivery Date
                                                </span>
                                                <span>
                                                    <t t-esc="o.disbursement_date.strftime('%d-%m-%Y')"/>
                                                </span>
                                            </t>
                                        </div>
                                        <t t-if="o.asset_type != 'cash'">
                                            <div class="mb-1">
                                                <span class="fw-bold" style="width: 150px; display: inline-block; color: #99ca3c;">Security Deposit</span>
                                                <span>
                                                <t t-esc="o.currency_id.symbol"/>
                                            </span>
                                                <span>
                                                    <t t-esc="o.security_deposit"/>
                                                </span>
                                            </div>
                                        </t>
                                        <div class="mb-1">
                                            <span class="fw-bold" style="width: 150px; display: inline-block; color: #99ca3c;">Total Amount</span>
                                            <span style="width: 400px; display: inline-block;">
                                                <t t-esc="o.currency_id.symbol"/>
                                                <t t-esc="o.total_amount"/>
                                            </span>
                                             <t t-if="o.asset_type == 'cash'">
                                                <span class="fw-bold" style="width: 160px; display: inline-block; color: #99ca3c;">
                                                    Delivery Date
                                                </span>
                                                <span>
                                                    <t t-esc="o.disbursement_date.strftime('%d-%m-%Y')"/>
                                                </span>
                                            </t>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </t>
                </t>
            </t>
        </template>

    </data>
</odoo>