<?xml version="1.0" encoding="utf-8"?>
<odoo>

    <record id="point_of_sale_view_pos_order_tree_inherit_bn_pos_order" model="ir.ui.view">
        <field name="name">point.of.sale.view.pos.order.tree.inherit.bn.pos.order</field>
        <field name="model">pos.order</field>
        <field name="inherit_id" ref="point_of_sale.view_pos_order_tree"/>
        <field name="arch" type="xml">
            <xpath expr="//field[@name='state']" position="after">
                    <button name="%(pos_donation_receipt_report)d" string="Print Receipt" type="action" class="oe_stat_button" icon="fa-print" title="Print Donation Receipt"/>
            </xpath>

            <xpath expr="//field[@name='partner_id']" position="after">
                <field name="analytic_account_id" string="Branch" options="{'no_create': True, 'no_edit': True, 'no_open': True}" />
            </xpath>
        </field>
    </record>

    <record id="point_of_sale_view_pos_pos_form_inherit_bn_pos_order" model="ir.ui.view">
        <field name="name">point.of.sale.view.pos.pos.form.inherit.bn.pos.order</field>
        <field name="model">pos.order</field>
        <field name="inherit_id" ref="point_of_sale.view_pos_pos_form"/>
        <field name="arch" type="xml">
            <xpath expr="//field[@name='state']" position="replace">
                <field name="state" widget="statusbar" statusbar_visible="draft,refund_request,cfo_approval,paid,done,refund"/>
            </xpath>

            <!-- <xpath expr="//header//button[@name='refund']" position="attributes">
                <attribute name="invisible">state != 'cfo_approval' or not has_refundable_lines</attribute>
            </xpath> -->
            <xpath expr="//header/button[@type='action']" position="attributes">
                <attribute name="invisible">state != 'cfo_approval'</attribute>
            </xpath>

            <xpath expr="//header" position="inside">
                <!-- <button string="Refund Request" name="action_refund_request" type="object" invisible="state not in ['paid', 'done'] or not has_refundable_lines" /> -->
                <button string="CFO Approval" name="action_cfo_approval" type="object" class="oe_highlight" invisible="state != 'draft'" groups="bn_pos_order.pos_order_cfo_approval_group" />
                <button string="Reject" name="action_reject" type="object" class="oe_highlight" invisible="state != 'cfo_approval'" />
            </xpath>
        </field>
    </record>

    <record id="point_of_sale_view_pos_order_filter_inherit_bn_pos_order" model="ir.ui.view">
        <field name="name">point.of.sale.view.pos.order.filter.inherit.bn.pos.order</field>
        <field name="model">pos.order</field>
        <field name="inherit_id" ref="point_of_sale.view_pos_order_filter"/>
        <field name="arch" type="xml">
            <xpath expr="//field[@name='partner_id']" position="after">
                <field name="mobile" />
            </xpath>
        </field>
    </record>

</odoo>